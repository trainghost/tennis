<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>회원 체크 & 대진표</title>
</head>
<body>
<h2>회원 체크</h2>
<form method="post">
    <table border="1">
        <tr>
            <th>이름</th><th>순위</th><th>성별</th><th>참가</th><th>일퇴</th><th>늦참</th>
        </tr>
        {% for member in members %}
        <tr>
            <td>{{ member['이름'] }}</td>
            <td>{{ member['순위'] }}</td>
            <td>{{ member['성별'] }}</td>
            <td><input type="checkbox" name="participate_{{ loop.index0 }}" {% if member.get('참가') %}checked{% endif %}></td>
            <td><input type="checkbox" name="early_{{ loop.index0 }}" {% if member.get('일퇴') %}checked{% endif %}></td>
            <td><input type="checkbox" name="late_{{ loop.index0 }}" {% if member.get('늦참') %}checked{% endif %}></td>
        </tr>
        {% endfor %}
    </table>
    <button type="submit">대진표 생성</button>
</form>

<hr>
{% for match_no, participants, courts in [(1, participants_1, courts_1), (2, participants_2, courts_2), (3, participants_3, courts_3)] %}
<h3>매칭 {{ match_no }}</h3>
<h4>선발 명단</h4>
<ul>
{% for p in participants %}
    <li>{{ p['이름'] }} (순위: {{ p['순위'] }}, 성별: {{ p['성별'] }})</li>
{% endfor %}
</ul>
<h4>코트 배정</h4>
{% for court, teams in courts.items() %}
<p>{{ court }}번 코트:
    {{ teams[0][0]['이름'] }}({{ teams[0][0]['순위'] }}) & {{ teams[0][1]['이름'] }}({{ teams[0][1]['순위'] }})
    vs
    {{ teams[1][0]['이름'] }}({{ teams[1][0]['순위'] }}) & {{ teams[1][1]['이름'] }}({{ teams[1][1]['순위'] }})
</p>
{% endfor %}
<hr>
{% endfor %}
</body>
</html>
